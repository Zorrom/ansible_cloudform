[0;34mUsing /etc/ansible/ansible.cfg as config file[0m
[0;35m[DEPRECATION WARNING]: The use of 'include' for tasks has been deprecated. Use 'import_tasks' for static inclusions or 'include_tasks' for dynamic [0m
[0;35minclusions. This feature will be removed in a future release. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.[0m
[0;35m[DEPRECATION WARNING]: include is kept for backwards compatibility but usage is discouraged. The module documentation details page may explain more about [0m
[0;35mthis rationale.. This feature will be removed in a future release. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: database[0m
[1;35m[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: instance_group_*[0m
[1;35m[0m

PLAY [tower:database:instance_group_*] ***********************************************************************************************************************

TASK [check_config_static : Ensure expected variables are defined] *******************************************************************************************
[0;36mskipping: [localhost] => (item=tower_package_name)  => {"changed": false, "item": "tower_package_name", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower_package_version)  => {"changed": false, "item": "tower_package_version", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower_package_release)  => {"changed": false, "item": "tower_package_release", "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Detect unsupported HA inventory file] ********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Ensure at least one tower host is defined] ***************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Ensure only one database host exists] ********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Ensure when postgres host is defined that the port is defined] *******************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Ensure that when a database host is specified, that pg_host is defined] **********************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : Ensure that when a database host is specified, that pg_port is defined] **********************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : HA mode requires an external postgres database with pg_host defined] *************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [check_config_static : HA mode requires an external postgres database with pg_port defined] *************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [config_dynamic : Set database to internal or external] *************************************************************************************************
[0;32mok: [localhost] => {"ansible_facts": {"config_dynamic_database": "internal"}, "changed": false}[0m

TASK [config_dynamic : Database decision] ********************************************************************************************************************
[0;32mok: [localhost] => {[0m
[0;32m    "config_dynamic_database": "internal"[0m
[0;32m}[0m

TASK [config_dynamic : Set postgres host and port to local if not set] ***************************************************************************************
[0;32mok: [localhost] => {"ansible_facts": {"pg_host": "127.0.0.1", "pg_port": 5432}, "changed": false}[0m

TASK [config_dynamic : Ensure connectivity to hosts and gather facts] ****************************************************************************************
[0;32mok: [localhost][0m

TASK [config_dynamic : Get effective uid] ********************************************************************************************************************
[0;33mchanged: [localhost] => {"changed": true, "cmd": ["id", "-u"], "delta": "0:00:00.004536", "end": "2018-07-30 07:53:29.488457", "rc": 0, "start": "2018-07-30 07:53:29.483921", "stderr": "", "stderr_lines": [], "stdout": "0", "stdout_lines": ["0"]}[0m

TASK [config_dynamic : Ensure user is root] ******************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

PLAY [Group nodes by OS distribution] ************************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************************************************
[0;32mok: [localhost][0m

TASK [group hosts by distribution] ***************************************************************************************************************************
[0;32mok: [localhost] => {"add_group": "CentOS-7.5.1804", "changed": false, "parent_groups": ["all"]}[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: RedHat-7*[0m
[1;35m[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: Ubuntu-14.04[0m
[1;35m[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: Ubuntu-16.04[0m
[1;35m[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: OracleLinux-7*[0m
[1;35m[0m

PLAY [Group supported distributions] *************************************************************************************************************************

TASK [group hosts for supported distributions] ***************************************************************************************************************
[0;32mok: [localhost] => {"add_group": "supported", "changed": false, "parent_groups": ["all"]}[0m

PLAY [Ensure all node OS distributions are supported] ********************************************************************************************************
[0;36mskipping: no hosts matched[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: Ubuntu-*[0m
[1;35m[0m
[1;35m [WARNING]: Could not match supplied host pattern, ignoring: isolated_group_*[0m
[1;35m[0m

PLAY [Ensure all isolated node OS distributions are supported] ***********************************************************************************************
[0;36mskipping: no hosts matched[0m

PLAY [Define role discovered variables, usable throughout the playbook] **************************************************************************************

TASK [postgres : include_vars] *******************************************************************************************************************************
[0;32mok: [localhost] => (item=/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/postgres/vars/../vars/RedHat-7.yml) => {"ansible_facts": {"pg_conf_dir": "/var/lib/pgsql/9.6/data", "pg_conf_location": "{{ pg_conf_dir }}/postgresql.conf", "pg_hba_location": "{{ pg_conf_dir }}/pg_hba.conf", "pg_initdb_command": "/usr/pgsql-9.6/bin/postgresql96-setup initdb", "postgres_init_name": "postgresql-9.6"}, "ansible_included_var_files": ["/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/postgres/vars/RedHat-7.yml"], "changed": false, "item": "/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/postgres/vars/../vars/RedHat-7.yml"}[0m

TASK [postgres : init postgresql (el-only)] ******************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Make sure PostgreSQL is started] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Wait for PostgreSQL to start if it wasnt] ***************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Update postgresql authentication settings] **************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Apply postgresql general settings] **********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Create unix socket directory] ***************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : Configure postgresql tmpfiles.d] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : restart postgresql when authentication settings changed] ************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : wait for postgresql restart] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : configure postgresql to start automatically] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [postgres : create the postgres user and set the password] **********************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [postgres : create the postgresql database for awx] *****************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : include_vars] **********************************************************************************************************************************
[0;32mok: [localhost] => (item=/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/nginx/vars/../vars/default.yml) => {"ansible_facts": {"httpd_init_name": "httpd", "nginx_init_name": "nginx", "nginx_user": "www-data"}, "ansible_included_var_files": ["/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/nginx/vars/default.yml"], "changed": false, "item": "/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/nginx/vars/../vars/default.yml"}[0m

TASK [nginx : Determine if selinux is enabled] ***************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : Open up permissions on httpd.] *****************************************************************************************************************
[0;36mskipping: [localhost] => (item=httpd_can_network_connect)  => {"changed": false, "item": "httpd_can_network_connect", "skip_reason": "Conditional result was False"}[0m

TASK [nginx : create self signed SSL certificates] ***********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : set permissions on SSL certificate] ************************************************************************************************************
[0;36mskipping: [localhost] => (item=/etc/tower/tower.cert)  => {"changed": false, "item": "/etc/tower/tower.cert", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=/etc/tower/tower.key)  => {"changed": false, "item": "/etc/tower/tower.key", "skip_reason": "Conditional result was False"}[0m

TASK [nginx : slurp self-signed SSL certificate] *************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [nginx : slurp self-signed SSL key] *********************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [nginx : place self-signed SSL certificates] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : place self-signed SSL key file] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : Install Tower nginx.conf] **********************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [nginx : start nginx and configure to startup automatically] ********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : include supervisor variables] *************************************************************************************************************
[0;32mok: [localhost] => (item=/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/supervisor/vars/../vars/RedHat-7.yml) => {"ansible_facts": {"sup_celery_add_lang": false, "sup_conf_location": "/etc/supervisord.d/tower.ini", "sup_init_name": "supervisord", "sup_socket_location": "/var/run/supervisor/supervisor.sock"}, "ansible_included_var_files": ["/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/supervisor/vars/RedHat-7.yml"], "changed": false, "item": "/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/supervisor/vars/../vars/RedHat-7.yml"}[0m

TASK [supervisor : Set extra queues for this host] ***********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : install supervisor config] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : Recreate systemd tmp files] ***************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : start/enable supervisord process] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : Wait for the supervisor socket] ***********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [supervisor : reload supervisord configuration via supervisorctl] ***************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : include_vars] ****************************************************************************************************************************
[0;32mok: [localhost] => (item=/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/awx_install/vars/../../supervisor/vars/RedHat-7.yml) => {"ansible_facts": {"sup_celery_add_lang": false, "sup_conf_location": "/etc/supervisord.d/tower.ini", "sup_init_name": "supervisord", "sup_socket_location": "/var/run/supervisor/supervisor.sock"}, "ansible_included_var_files": ["/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/supervisor/vars/RedHat-7.yml"], "changed": false, "item": "/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/awx_install/vars/../../supervisor/vars/RedHat-7.yml"}[0m

TASK [awx_install : include task specific variables] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower settings directory.] *************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower system user's home directory.] ***************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower system user's .ssh directory.] ***************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower projects directory.] *************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower job output directory.] ***********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure the Tower static directory.] ***************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Add Towers `conf.d` directory.] **********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : configure tower log directory] ***********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : update ansible-tower service configuration] **********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Fetch the secret key from the primary node.] *********************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Fail play when grabbing SECRET_KEY fails] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Place the secret key on secondary nodes.] ************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Get tower db settings] *******************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Ingest database settings] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Set database vars] ***********************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Set database vars] ***********************************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Configure Towers database settings.] *****************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Configure Towers celeryd settings.] ******************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Initialize instance groups for host] *****************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Determine instance groups for host] ******************************************************************************************************
[0;36mskipping: [localhost] => (item=CentOS-7.5.1804)  => {"changed": false, "item": "CentOS-7.5.1804", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=supported)  => {"changed": false, "item": "supported", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower)  => {"changed": false, "item": "tower", "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Initialize controlling queues] ***********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Determine isolated queues that this host controls] ***************************************************************************************
[0;36mskipping: [localhost] => (item=all)  => {"changed": false, "item": "all", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=database)  => {"changed": false, "item": "database", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=supported)  => {"changed": false, "item": "supported", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=ungrouped)  => {"changed": false, "item": "ungrouped", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower)  => {"changed": false, "item": "tower", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=CentOS-7.5.1804)  => {"changed": false, "item": "CentOS-7.5.1804", "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Initial routeable groups for all hosts] **************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Determine all routeable groups] **********************************************************************************************************
[0;36mskipping: [localhost] => (item=all)  => {"changed": false, "item": "all", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=database)  => {"changed": false, "item": "database", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=supported)  => {"changed": false, "item": "supported", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=ungrouped)  => {"changed": false, "item": "ungrouped", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower)  => {"changed": false, "item": "tower", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=CentOS-7.5.1804)  => {"changed": false, "item": "CentOS-7.5.1804", "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Install Tower rabbitmq settings] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Install Tower cache settings] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Install Tower's settings file if it doesn't already exist.] ******************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Stop supervisor] *************************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Wait for supervisor to stop.] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Migrate the Tower database schema (may take awhile when upgrading).] *********************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Checking for RBAC migration log] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Moving RBAC migration log] ***************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Check for custom ui logo] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Check for custom ui settings] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Move back custom ui logo] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Move back custom ui settings] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Set custom ui logo permissions] **********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Set custom ui settings permissions] ******************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : get the tower version] *******************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : store the tower version] *****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Migrate settings from files to database.] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Comment settings files on all instances.] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Fixup tower log directory permissions post-migration] ************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Clean up any poorly-permissioned Tower configuration files on upgrade] *******************************************************************
[1;35m [WARNING]: Unable to find '/etc/tower/conf.d' in expected paths.[0m
[1;35m[0m
[1;35m [WARNING]: Unable to find '/etc/tower' in expected paths.[0m
[1;35m[0m

TASK [awx_install : Check for Tower Super users] *************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : create django super user if it does not exist] *******************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : update django super user password] *******************************************************************************************************
[0;36mskipping: [localhost] => {"censored": "the output has been hidden due to the fact that 'no_log: true' was specified for this result"}[0m

TASK [awx_install : Collect static files for Tower.] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [awx_install : Fixup tower log directory permissions post-migration] ************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

PLAY [Verify consistency of inventory contents] **************************************************************************************************************

TASK [Check that no instance groups are named tower] *********************************************************************************************************
[0;36mskipping: [localhost] => (item=all)  => {"changed": false, "item": "all", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=database)  => {"changed": false, "item": "database", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=supported)  => {"changed": false, "item": "supported", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=ungrouped)  => {"changed": false, "item": "ungrouped", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=tower)  => {"changed": false, "item": "tower", "skip_reason": "Conditional result was False"}[0m
[0;36mskipping: [localhost] => (item=CentOS-7.5.1804)  => {"changed": false, "item": "CentOS-7.5.1804", "skip_reason": "Conditional result was False"}[0m

TASK [Check that controller uses queue name and not group name] **********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [Check that group names do not conflict with instance names] ********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

PLAY [Sanity check and prep Tower node(s)] *******************************************************************************************************************

TASK [preflight : Preflight check - require new enough Ansible] **********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Fail if this machine lacks sufficient RAM.] ******************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Get umask] ***************************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "cmd": "umask", "delta": "0:00:00.005705", "end": "2018-07-30 07:53:34.820590", "rc": 0, "start": "2018-07-30 07:53:34.814885", "stderr": "", "stderr_lines": [], "stdout": "0022", "stdout_lines": ["0022"]}[0m

TASK [preflight : Preflight check - Get Hard Max FD limit] ***************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "cmd": "ulimit -H -n", "delta": "0:00:00.005231", "end": "2018-07-30 07:53:35.063697", "rc": 0, "start": "2018-07-30 07:53:35.058466", "stderr": "", "stderr_lines": [], "stdout": "4096", "stdout_lines": ["4096"]}[0m

TASK [preflight : Preflight check - Does the system have a standard umask?] **********************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Verify minimum open fds] *************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Get /var/log permissions] ************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"atime": 1532834461.8445354, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 8, "charset": "binary", "ctime": 1532936400.781, "dev": 64768, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 100665411, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mimetype": "inode/directory", "mode": "0755", "mtime": 1532936400.781, "nlink": 8, "path": "/var/log", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "version": "18446744073383279940", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}[0m

TASK [preflight : Preflight check - Does /var/log have appropriate permissions?] *****************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Read in tower version] ***************************************************************************************************
[0;31mfatal: [localhost]: FAILED! => {"changed": false, "msg": "file not found: /var/lib/awx/.tower_version"}[0m
[0;36m...ignoring[0m

TASK [preflight : Preflight check - User must be on Tower 3.0.x to upgrade to 3.1.x] *************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - Passwords must be defined for a fresh install] ***************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - rabbitmq_password must be defined] ***************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - check Tower license type] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [preflight : Preflight check - check Tower license validity for upgrades] *******************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [migrations : Check Tower version for supervisor configuration] *****************************************************************************************
[0;31mfatal: [localhost]: FAILED! => {"changed": false, "cmd": "cat /var/lib/awx/.tower_version", "delta": "0:00:00.007406", "end": "2018-07-30 07:53:36.619739", "msg": "non-zero return code", "rc": 1, "start": "2018-07-30 07:53:36.612333", "stderr": "cat: /var/lib/awx/.tower_version: No such file or directory", "stderr_lines": ["cat: /var/lib/awx/.tower_version: No such file or directory"], "stdout": "", "stdout_lines": []}[0m
[0;36m...ignoring[0m

TASK [migrations : Stop httpd if tower is installed] *********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [migrations : Stop httpd under its old name if needed] **************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [migrations : Stop and disable prior versions of httpd] *************************************************************************************************

PLAY [Prep installation repos] *******************************************************************************************************************************

TASK [repos_el : include_vars] *******************************************************************************************************************************
[0;32mok: [localhost] => (item=/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/repos_el/vars/../vars/CentOS-7.yml) => {"ansible_facts": {"tower_bundle_file": "tower_bundle_el7.j2", "yum_online_repo_files": ["ansible-el7.repo", "epel-7.repo", "pgdg-96-centos.repo", "jlaska-rabbitmq.repo"], "yum_repo_keys": ["RPM-GPG-KEY-EPEL-7", "RPM-GPG-KEY-PGDG-96", "RPM-GPG-KEY-ansible-release", "RPM-GPG-KEY-jlaska-rabbitmq"]}, "ansible_included_var_files": ["/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/repos_el/vars/CentOS-7.yml"], "changed": false, "item": "/root/CTS/ansible-development-CTS/setup/ansible-tower-setup-3.2.1/roles/repos_el/vars/../vars/CentOS-7.yml"}[0m

TASK [repos_el : Install yum repositories] *******************************************************************************************************************
[0;33mchanged: [localhost] => (item=ansible-el7.repo) => {"changed": true, "checksum": "440f2474b2b0981eec648a71d9eaaa4c2cfef46c", "dest": "/etc/yum.repos.d/ansible-el7.repo", "gid": 0, "group": "root", "item": "ansible-el7.repo", "md5sum": "671b03409ef2cf44ef1f3ead2a22dc87", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:system_conf_t:s0", "size": 211, "src": "/root/.ansible/tmp/ansible-tmp-1532937216.86-134741937944608/source", "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=epel-7.repo) => {"changed": true, "checksum": "9079878ccad2df02a308c4316316557dcddc8053", "dest": "/etc/yum.repos.d/epel-7.repo", "gid": 0, "group": "root", "item": "epel-7.repo", "md5sum": "ddfd3f1af9c1ebbadfe75ed7085c0164", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:system_conf_t:s0", "size": 624, "src": "/root/.ansible/tmp/ansible-tmp-1532937217.43-143741640582245/source", "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=pgdg-96-centos.repo) => {"changed": true, "checksum": "a02147f7b630f14c9c6be4bf78f7e2a17c326bbe", "dest": "/etc/yum.repos.d/pgdg-96-centos.repo", "gid": 0, "group": "root", "item": "pgdg-96-centos.repo", "md5sum": "c6b7a33f2510e91d09ed3c6dc6d420d7", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:system_conf_t:s0", "size": 440, "src": "/root/.ansible/tmp/ansible-tmp-1532937217.8-119024957295038/source", "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=jlaska-rabbitmq.repo) => {"changed": true, "checksum": "56231accc384c13cd523da14c6317b51f580d6bc", "dest": "/etc/yum.repos.d/jlaska-rabbitmq.repo", "gid": 0, "group": "root", "item": "jlaska-rabbitmq.repo", "md5sum": "ee0f75badfcbe00b286417e8e4154b79", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:system_conf_t:s0", "size": 327, "src": "/root/.ansible/tmp/ansible-tmp-1532937218.17-244323728480604/source", "state": "file", "uid": 0}[0m

TASK [repos_el : Install yum repo keys] **********************************************************************************************************************
[0;32mok: [localhost] => (item=RPM-GPG-KEY-EPEL-7) => {"changed": false, "checksum": "491dc189ad1ceccb3b03277e88eb939dd238d32c", "gid": 0, "group": "root", "item": "RPM-GPG-KEY-EPEL-7", "mode": "0644", "owner": "root", "path": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7", "secontext": "system_u:object_r:cert_t:s0", "size": 1662, "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=RPM-GPG-KEY-PGDG-96) => {"changed": true, "checksum": "fd0e604c59df16f951a847d269f12818786a930c", "dest": "/etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG-96", "gid": 0, "group": "root", "item": "RPM-GPG-KEY-PGDG-96", "md5sum": "78b5db170d33f80ad5a47863a7476b22", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:cert_t:s0", "size": 1726, "src": "/root/.ansible/tmp/ansible-tmp-1532937219.17-211566711267530/source", "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=RPM-GPG-KEY-ansible-release) => {"changed": true, "checksum": "3f6935054f3c035f5c051010c68c2e22969230fa", "dest": "/etc/pki/rpm-gpg/RPM-GPG-KEY-ansible-release", "gid": 0, "group": "root", "item": "RPM-GPG-KEY-ansible-release", "md5sum": "248924d005b2b3041df7233da27c95db", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:cert_t:s0", "size": 3130, "src": "/root/.ansible/tmp/ansible-tmp-1532937219.55-227526174272325/source", "state": "file", "uid": 0}[0m
[0;33mchanged: [localhost] => (item=RPM-GPG-KEY-jlaska-rabbitmq) => {"changed": true, "checksum": "b825cf6d0a665a60a51e057b1d28d60cbbc7b13b", "dest": "/etc/pki/rpm-gpg/RPM-GPG-KEY-jlaska-rabbitmq", "gid": 0, "group": "root", "item": "RPM-GPG-KEY-jlaska-rabbitmq", "md5sum": "38f2a0b08bf053751edefdb28db7117a", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:cert_t:s0", "size": 987, "src": "/root/.ansible/tmp/ansible-tmp-1532937219.93-135686303679209/source", "state": "file", "uid": 0}[0m

TASK [repos_el : Install yum repos that arrive via release packages] *****************************************************************************************

TASK [repos_el : Determine if AWS rhui repository exists] ****************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [repos_el : Update rh-amazon-rhui-client (RHEL EC2 only)] ***********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [repos_el : Enable AWS rhui repositories] ***************************************************************************************************************

TASK [repos_el : Determine if rhui repository exists] ********************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [repos_el : Enable rhui repositories] *******************************************************************************************************************

TASK [repos_el : Determine if rhsm repository exists] ********************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [repos_el : Determine if rhsm system cert exists] *******************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [repos_el : Enable rhsm repositories] *******************************************************************************************************************

TASK [repos_el : Determine if Oracle Linux repository exists] ************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [repos_el : Enable Oracle repositories] *****************************************************************************************************************

TASK [repos_el : Remove old bundle packages source directory] ************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [repos_el : Copy bundle packages to repo source directory] **********************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [repos_el : Install the Tower bundle repository] ********************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [repos_el : Install the Tower yum repository.] **********************************************************************************************************
[0;33mchanged: [localhost] => {"changed": true, "checksum": "04c9d7da973dfe18d545e18fb9c6528ff462afd2", "dest": "/etc/yum.repos.d/ansible-tower.repo", "gid": 0, "group": "root", "md5sum": "c661b2357601ff932fab78235db1371c", "mode": "0644", "owner": "root", "secontext": "system_u:object_r:system_conf_t:s0", "size": 222, "src": "/root/.ansible/tmp/ansible-tmp-1532937221.94-153294682837799/source", "state": "file", "uid": 0}[0m

TASK [repos_el : Set bundle repo to enable] ******************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [repos_el : Set online repo to enable] ******************************************************************************************************************
[0;32mok: [localhost] => {"ansible_facts": {"tower_enable_repo": "ansible-tower"}, "changed": false}[0m

PLAY [Install postgres database node] ************************************************************************************************************************
[0;36mskipping: no hosts matched[0m

PLAY [Install Tower node(s)] *********************************************************************************************************************************

TASK [packages_el : Install playbook dependencies] ***********************************************************************************************************
[0;33mchanged: [localhost] => (item=[u'python-psycopg2', u'python-setuptools', u'libselinux-python', u'setools-libs', u'yum-utils', u'sudo', u'acl']) => {"changed": true, "item": ["python-psycopg2", "python-setuptools", "libselinux-python", "setools-libs", "yum-utils", "sudo", "acl"], "msg": "Repository epel is listed more than once in the configuration\nRepository epel-source is listed more than once in the configuration\nwarning: /var/cache/yum/x86_64/7/pgdg96/packages/python-psycopg2-2.7.5-1.rhel7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 442df0f8: NOKEY\nImporting GPG key 0x442DF0F8:\n Userid     : \"PostgreSQL RPM Building Project <pgsqlrpms-hackers@pgfoundry.org>\"\n Fingerprint: 68c9 e2b9 1a37 d136 fe74 d176 1f16 d2e1 442d f0f8\n From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG-96\n", "rc": 0, "results": ["python-setuptools-0.9.8-7.el7.noarch providing python-setuptools is already installed", "libselinux-python-2.5-12.el7.x86_64 providing libselinux-python is already installed", "yum-utils-1.1.31-45.el7.noarch providing yum-utils is already installed", "sudo-1.8.19p2-13.el7.x86_64 providing sudo is already installed", "acl-2.2.51-14.el7.x86_64 providing acl is already installed", "Loaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n * base: centos.excellmedia.net\n * epel: del-repos.extreme-ix.org\n * extras: centos.excellmedia.net\n * updates: centos.excellmedia.net\nResolving Dependencies\n--> Running transaction check\n---> Package python-psycopg2.x86_64 0:2.7.5-1.rhel7 will be installed\n--> Processing Dependency: postgresql96-libs for package: python-psycopg2-2.7.5-1.rhel7.x86_64\n--> Processing Dependency: libpq.so.5()(64bit) for package: python-psycopg2-2.7.5-1.rhel7.x86_64\n---> Package setools-libs.x86_64 0:3.3.8-2.el7 will be installed\n--> Running transaction check\n---> Package postgresql96-libs.x86_64 0:9.6.9-1PGDG.rhel7 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n================================================================================\n Package                Arch        Version                   Repository   Size\n================================================================================\nInstalling:\n python-psycopg2        x86_64      2.7.5-1.rhel7             pgdg96      155 k\n setools-libs           x86_64      3.3.8-2.el7               base        619 k\nInstalling for dependencies:\n postgresql96-libs      x86_64      9.6.9-1PGDG.rhel7         pgdg96      315 k\n\nTransaction Summary\n================================================================================\nInstall  2 Packages (+1 Dependent package)\n\nTotal download size: 1.1 M\nInstalled size: 3.5 M\nDownloading packages:\nPublic key for python-psycopg2-2.7.5-1.rhel7.x86_64.rpm is not installed\n--------------------------------------------------------------------------------\nTotal                                              293 kB/s | 1.1 MB  00:03     \nRetrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-PGDG-96\nRunning transaction check\nRunning transaction test\nTransaction test succeeded\nRunning transaction\n  Installing : postgresql96-libs-9.6.9-1PGDG.rhel7.x86_64                   1/3 \n  Installing : python-psycopg2-2.7.5-1.rhel7.x86_64                         2/3 \n  Installing : setools-libs-3.3.8-2.el7.x86_64                              3/3 \n  Verifying  : python-psycopg2-2.7.5-1.rhel7.x86_64                         1/3 \n  Verifying  : postgresql96-libs-9.6.9-1PGDG.rhel7.x86_64                   2/3 \n  Verifying  : setools-libs-3.3.8-2.el7.x86_64                              3/3 \n\nInstalled:\n  python-psycopg2.x86_64 0:2.7.5-1.rhel7    setools-libs.x86_64 0:3.3.8-2.el7   \n\nDependency Installed:\n  postgresql96-libs.x86_64 0:9.6.9-1PGDG.rhel7                                  \n\nComplete!\n"]}[0m

TASK [packages_el : Check for custom ui logo] ****************************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [packages_el : Check for custom ui settings] ************************************************************************************************************
[0;32mok: [localhost] => {"changed": false, "stat": {"exists": false}}[0m

TASK [packages_el : Move away custom ui logo] ****************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [packages_el : Move away custom ui settings] ************************************************************************************************************
[0;36mskipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}[0m

TASK [packages_el : Install the Tower RPM.] ******************************************************************************************************************
